function getStyle(a,b){var c,d=(a.ownerDocument||document).defaultView;return d&&d.getComputedStyle?(b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle?(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b],/^\d+(em|pt|%|ex)?$/i.test(c)?function(b){var c=a.style.left,d=a.runtimeStyle.left;return a.runtimeStyle.left=a.currentStyle.left,a.style.left=b||0,b=a.style.pixelLeft+"px",a.style.left=c,a.runtimeStyle.left=d,b}(c):c):void 0}function getIframeWindow(a){var b;return a.contentWindow?a.contentWindow:a.window?a.window:(!b&&a.contentDocument&&(b=a.contentDocument),!b&&a.document&&(b=a.document),b&&b.defaultView?b.defaultView:b&&b.parentWindow?b.parentWindow:void 0)}function widgetFrameLoaded(a){function b(){var a=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return a?parseInt(a[1]):void 0}function c(){return JotForm.validateAll()&&0===$$(".form-line-error").length}function d(a){try{JSON.parse(a)}catch(b){return!1}return!0}function e(a){var b=!1,c=document.getElementById("customFieldFrame_"+a);if(c.hasAttribute("data-type")){var d=c.readAttribute("data-type");"oembed"===d&&(b=!0)}return b}function f(a,c,d){var e=s;void 0!==d&&(e=d);var f=document.getElementById("customFieldFrame_"+c);null!==f&&(-1!=navigator.userAgent.indexOf("Firefox")?XD.postMessage(a,e,getIframeWindow(f)):void 0!==b()?XD.postMessage(a,e,f):XD.postMessage(a,e,getIframeWindow(f)))}function g(){var b=document.getElementById("widget_settings_"+a);return b?b.value:null}function h(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}function i(a){var b=document.getElementById("input_"+a);return b&&b.hasClassName("widget-static")?!0:!1}function j(a){var b=document.getElementById("id_"+a).className;return b.indexOf("jf-required")>-1}function k(a){var b=document.getElementById("customFieldFrame_"+a);return b.hasClassName("frame-ready")||b.retrieve("frame-ready")?!0:!1}function l(a){function b(a,b){$(document.getElementById("customFieldFrame_"+a)).addClassName("frame-ready").store("frame-ready",!0),f(JSON.stringify(b),a)}var c=-1!=navigator.userAgent.indexOf("Firefox")?window.getComputedStyle(document.querySelector(".form-all"),null).getPropertyValue("background-color"):getStyle(document.querySelector(".form-all"),"background"),d=-1!=navigator.userAgent.indexOf("Firefox")?window.getComputedStyle(document.querySelector(".form-all"),null).getPropertyValue("font-family"):getStyle(document.querySelector(".form-all"),"font-family"),e={type:"ready",qid:a+"",formID:document.getElementsByName("formID")[0].value,required:j(a),"static":i(a),background:c,fontFamily:d},h=g();h&&"[]"!==decodeURIComponent(h)&&(e.settings=h);var k=document.getElementById("customFieldFrame_"+a),l=k.readAttribute("data-width")||k.parentNode.clientWidth,m=k.readAttribute("data-height")||k.parentNode.clientHeight;e.width=parseInt(l),e.height=parseInt(m),e.viewWidth=k.parentNode.clientWidth,e.viewHeight=k.parentNode.clientHeight;var o=JotForm.isEditMode()||!!~window.location.href.indexOf("/edit/")||!!~window.location.href.indexOf("inlineEdit");if(n&&console.log("ready message inline",e),o)var p=50,q=5e3,r=0,s=setInterval(function(){(k.hasAttribute("data-value")||r>=q)&&(clearInterval(s),e.value=k.getAttribute("data-value"),n&&console.log("Ready message sent in",r,e),b(a,e)),r+=p},p);else{if(k.hasAttribute("data-value"))e.value=k.getAttribute("data-value");else{var t=k.parentNode.select("#input_"+a);t.first().getValue()&&(e.state="oldvalue",e.value=t.first().getValue())}n&&console.log("Sending normal ready message",e),b(a,e)}}var m=document.getElementById("customFieldFrame_"+a),n=!1,o=void 0==JotForm.forms[0]||"undefined"==typeof JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];if(~["62754049811963","62261204289958","62702584435962","62802961818967"].indexOf(o.id)&&(n=!0),!m.hasClassName("custom-field-frame-rendered"))return n&&console.log("Not rendered yet for",a),void 0;if(!e(a)){JCFServerCommon.frames[a]={},JCFServerCommon.frames[a].obj=m;var p=m.src;JCFServerCommon.frames[a].src=p,JCFServerCommon.submitFrames=[];var q=!0,r=!1,s=p;window.sendMessage2Widget=f,window.JCFServerCommon.frames[a].sendReadyMessage=l,XD.receiveMessage(function(e){if(d(e.data)){var g=JSON.parse(e.data);if(n&&console.log("Data from widget",g.qid,g),parseInt(a)===parseInt(g.qid))if("submit"===g.type){if(n&&console.log("widget submit",document.getElementById("input_"+g.qid)),document.getElementById("input_"+g.qid)){"number"==typeof g.value&&(g.value=g.value+"");var i=$(document.getElementById("input_"+g.qid)).hasClassName("widget-required")||$(document.getElementById("input_"+g.qid)).hasClassName("validate[required]"),j=document.getElementById("input_"+g.qid),l=j.up(".form-line"),m=JotForm.isVisible(l),o=l.hasClassName("form-field-hidden")||j.hasClassName("always-hidden")||!m?!1:!0;if(i)if(n&&console.log(g.qid,"isVisible",o),o&&"valid"in g&&(g.valid===!1||g.valid===!0&&!g.value)){if(k(g.qid)?(j.setValue(""),n&&console.log("LogA: Setting empty input value for",g.qid,g)):n&&console.log("LogA: Setting nothing because isn't ready",g.qid,g),!j.getValue()){var p=JotForm.texts.required||"This field is required";"undefined"!=typeof g.error&&g.error!==!1&&(p=g.error.hasOwnProperty("msg")?g.error.msg:p),n&&console.log("Errored required element",j,g),JotForm.errored(j,p)}}else o&&!JotForm.isCollapsed(j)&&(n&&console.log("Correcting required element",j,g),JotForm.corrected(j)),o||g.valid!==!0||(n&&console.log("Correcting not visible element but valid",j,g),JotForm.corrected(j)),k(g.qid)?void 0!==g.value?(j.setValue(g.value),n&&console.log("LogB: Setting input value for",g.qid,g)):(j.setValue(""),n&&console.log("LogC: Setting input value for",g.qid,g)):n&&console.log("LogA: Widget frame not ready, no value set",g.qid,g);else"undefined"!=typeof g&&("value"in g?k(g.qid)?j.setValue(g.value):n&&console.log("LogB: Widget frame not ready, no value set",g.qid,g):j.hasClassName("widget-static")&&(j.setValue(""),j.removeAttribute("name")));j&&l&&l.hasClassName("form-field-hidden")&&"dontClear"!==JotForm.clearFieldOnHide&&(j.setValue(""),j.removeAttribute("name")),JCFServerCommon.submitFrames.indexOf(parseInt(g.qid))<0&&(o&&i&&!g.valid?n&&console.log("Waiting for frame submission, required but not valid",g.qid):JCFServerCommon.submitFrames.push(parseInt(g.qid)))}for(var r=$$(".widget-required, .widget-errored"),s=!0,t=0;t<r.length;t++)0===r[t].value.length&&JotForm.isVisible(r[t])&&(s=!1);if(!q)if(n&&console.log("next page",q,c(),s),c()&&s){n&&console.log("sendSubmit",q,s);var u=void 0==JotForm.forms[0]||"undefined"==typeof JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0],v=!!~window.location.href.indexOf("/edit/")||window.location.search.match("inlineEdit|edit"),w=["stripe","braintree","square","eway"];JotForm.payment&&w.indexOf(JotForm.payment)>-1&&JotForm.isPaymentSelected()&&JotForm.paymentTotal>0&&!v||($$('.custom-field-frame[data-type="iframe"]').length===JCFServerCommon.submitFrames.length?(n&&console.log("All frames submitted",JCFServerCommon.submitFrames),_submitLast.submit(u,50)):n&&console.log("Not all frames submitted",JCFServerCommon.submitFrames))}else JotForm.enableButtons(),JotForm.showButtonMessage()}else if("data"===g.type){var x=document.getElementById("input_"+g.qid);x&&(x.value=g.value,x.triggerEvent("change")),JotForm.triggerWidgetCondition(g.qid),JotForm.triggerWidgetCalculation(g.qid)}else if("errors"===g.type){var y=document.getElementById("input_"+g.qid);"show"===g.action?JotForm.isVisible(y)&&(JotForm.corrected(y),y.value="",y.addClassName("widget-errored"),JotForm.errored(y,g.msg),"resetForm"in g&&g.resetForm===!0&&JotForm.enableButtons()):"hide"===g.action&&(y.removeClassName("widget-errored"),JotForm.corrected(y))}else if("required"===g.type){var y=document.getElementById("input_"+g.qid);"set"!==g.action||y.hasClassName("widget-required")?"unset"===g.action&&(y.removeClassName("widget-required"),JotForm.corrected(y)):y.addClassName("widget-required")}else if("size"===g.type){var z=g.width,A=g.height;void 0!==z&&null!==z&&(0===z||"0"===z?z="auto":z+="px",document.getElementById("customFieldFrame_"+g.qid).style.width=z),void 0!==A&&null!==A&&(document.getElementById("customFieldFrame_"+g.qid).style.height=A+"px",void 0!==b()&&(document.getElementById("cid_"+g.qid).style.height=A+"px")),JotForm.iframeHeightCaller()}else if("replace"===g.type){var B=g.inputType,C=g.isMobile,D=g.required,E=$("customFieldFrame_"+g.qid).up(),F=$("input_"+g.qid).readAttribute("name");$("customFieldFrame_"+g.qid).remove(),$("input_"+g.qid).up().remove();var G="",H=D?"validate[required] widget-required widget-replaced":"";switch(B){case"control_fileupload":var u=void 0==JotForm.forms[0]||"undefined"==typeof JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];u.setAttribute("enctype","multipart/form-data"),C||(H=""===H?"validate[upload]":H,G='<input class="form-upload '+H+'" type="file" id="input_'+g.qid+'" name="'+F+'" file-accept="pdf, doc, docx, xls, xlsx, csv, txt, rtf, html, zip, mp3, wma, mpg, flv, avi, jpg, jpeg, png, gif"'+'file-maxsize="10240">'),E.insert(G);break;case"control_textbox":G='<input class="form-textbox '+H+'" type="text" data-type-"input-textbox" id="input_'+g.qid+'" name="'+F+'">',E.insert(G);break;case"control_textarea":G='<textarea class="form-textarea '+H+'" type="text" id="input_'+g.qid+'" name="'+F+'" cols="40" rows="6"></textarea>',E.insert(G)}}else if("event:listener"===g.type){var I=document.getElementById(g.field);if(I&&["keyup","change"].indexOf(g.event)>-1){n&&console.log("Event registered from ",g.qid);var J=function(a){var b=a.target.value;b="undefined"!=typeof b?b:"",n&&console.log("Handler for ",g.qid,"triggered",b,a.target.id),a.target.id===g.field&&(n&&console.log("event:receiver: Sending message to ",g.qid,"with value",b),f(JSON.stringify({eventID:g.eventID,type:"event:receiver",value:b}),g.qid))};Event.observe(I,g.event,"keyup"===g.event?h(J,100):J)}}else if("event:store"===g.type){var I=document.getElementById(g.field);if(I){var K=$(g.field).up(".form-line").id.split("_")[1],L={eventID:g.eventID,type:"event:receiver",value:g.value};"widget"===JotForm.getInputType(K)||"isWidget"in g&&g.isWidget?(window.console&&"warn"in console&&console.warn("Sending value to destination(widget) from a source(widget) is not recommended."),delete L.eventID,L.field=g.field,L.isWidget=!0,L.targetQID=K,n&&console.log("Sending data to widget field",K,L),f(JSON.stringify(L),K)):(I.setValue(g.value),"hasCallback"in g&&g.hasCallback&&(n&&console.log("Sending data to native field",g),f(JSON.stringify(L),g.qid)))}}else"field:hide"===g.type?$("input_"+g.qid).up(".form-line").hide():"field:show"===g.type&&$("input_"+g.qid).up(".form-line").show()}},m.src.replace(/([^:]+:\/\/[^\/]+).*/,"$1")),n&&console.log("sending settings",g(),(new Date).getTime()),f(JSON.stringify({type:"settings",settings:g()}),a),n&&console.log("sending form strings",JotForm.texts,(new Date).getTime()),f(JSON.stringify({type:"formstrings",formTexts:JotForm.texts}),a);var t=JotForm.getSection(m);m&&JotForm.isVisible(t)&&JotForm.isVisible(m)&&"undefined"==typeof m.up(".form-section-closed")&&l(a),Event.observe(o,"submit",function(b){null!==document.getElementById("customFieldFrame_"+a)&&(Event.stop(b),q=!1,n&&console.log("Form stopped from widget server event, submitting form from widge submit event"),f(JSON.stringify({type:"submit",qid:a+""}),a+""))}),$$(".form-pagebreak-next").each(function(b){$(b).observe("click",function(b){r=this.up(".form-section"),q=!0,r.select("#customFieldFrame_"+a).length>0&&(n&&console.log("Sending submit message for iframe id",a,"from section",this.up(".form-section"),"and iframe",m),f(JSON.stringify({type:"submit",method:"next",qid:a+""}),a+""),Event.stop(b));var c=setInterval(function(){m=document.getElementById("customFieldFrame_"+a),m?(r=$(m).up(".form-section"),JotForm.isVisible(r)&&JotForm.isVisible(m)?(clearInterval(c),n&&console.log("Sending ready message for iframe id",a,"from section",r),l(a)):(n&&console.log("Section and frameObj not visible",r,m),clearInterval(c))):clearInterval(c)},100)})}),$("input_"+a)&&$("input_"+a).observe("widget:clear",function(a){var b=a.memo.qid;f(JSON.stringify({type:"widgetclear",qid:b}),b)})}}if("object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","  ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.console||(console={log:function(){}}),void 0===window.getStyle,void 0===window.getIframeWindow,"undefined"==typeof XD)var XD=function(){var a,b,c,d=1,e=this;return{postMessage:function(a,b,c){b&&(c=c||parent,e.postMessage?("postMessage"in c||(c=getIframeWindow(c)),c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(d,f){e.postMessage?(d&&(c=function(a){return"string"==typeof f&&a.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&f(a.origin)===!1?!1:(d(a),void 0)}),e.addEventListener?e[d?"addEventListener":"removeEventListener"]("message",c,!1):e[d?"attachEvent":"detachEvent"]("onmessage",c)):(a&&clearInterval(a),a=null,d&&(a=setInterval(function(){var a=document.location.hash,c=/^#?\d+&/;a!==b&&c.test(a)&&(b=a,d({data:a.replace(c,"")}))},100)))}}}();void 0===window.JCFServerCommon&&(window.JCFServerCommon={frames:{},func:{}});var _submitLast={t:null,submitted:!1,submit:function(a,b){this.submitted!==!0&&(null!==this.t&&clearTimeout(this.t),this.t=setTimeout(function(){this.submitted=!0,a.submit(),JotForm.disableButtons()},b))}};